---
title: Git版本控制
date: 2018-08-12 16:44:07
tags: Git
typora-copy-images-to: ..\images
---

## 1.1 关于版本控制

​	版本控制是一种记录一个或者若干个文件内容变化，以变将来查阅特定版本修订情况的系统。

## 1.2 集中式VS分布式

​	关于版本控制系统，简单的可以分为两类，即集中式与分布式系统。

###  1.2.1 集中式版本控制系统

​	集中化版本控制系统，(`Centralized Version Control Systems`，简称 `CVCS`),诸如`CVS`、`Subversion`、以及`Perforce`等，这种集中式的版本控制系统都有一个共同点，即都有一个单一的集中管理的服务器，保存所有文件的修订版本，而协同工作的人员都通过客户端连接到这台服务器，取出最新的文件或者提交更新，工作模式如下图所示：

​	![集中式版本控制系统工作模式](Git版本控制/centralized.png)

​	这种集中式的工作模式带来的好处就是相比较于之前老式的本地`VCS`来说,现在每个人都可以在一定程度上看到项目的其他人正在做些什么,而管理员也可以轻松的掌控每个开发者的权限,并且管理一个`CVCS`要远比在每个客户端上维护本地数据库来得轻松简单。

​	事分两面，有好有坏。这种集中式存在一个显而易见的缺点，即中央服务器的单点故障，如果宕机一小时，那么在这一小时内，谁都无法提交更新，也就无法协同工作。更不幸的是，如果中心数据库所在的磁盘发生损坏，又没有做恰当备份，毫无疑问，你将丢失所有的数据(包括项目的整个变更历史)，只留下人们各自机器上保留的单独快照。

### 1.2.2 分布式版本控制系统

​	分布式版本控制系统，(`Distributed Version Control System`，简称 `DVCS`,此类的系统有`Git`、`Mercurial`、`Bazaar`、以及`Darcs`等。分布式版本控制系统的特点就是客户端并不止提取最新版本的文件快照，而是将代码仓库完整的镜像下来，这么一来，任何一处协同工作用的服务器发生故障，事后都可以用任何一个镜像出来的本地仓库进行恢复，因为每一次的克隆操作，实际上都是一次对代码仓库的完整备份。分布式版本控制系统的工作模式如下图所示：

![分布式版本控制系统工作模式](Git版本控制/distributed.png)

## 1.3 Git与SVN的对比

​	在这里总结一下我个人对Git与SVN等版本控制系统的一些差异，因为之前用过SVN也只是简单的使用，也并没有深入的去了解，毕竟只是工具嘛，更多的是为了面试的时候，自己能够答出一些点。

​	个人理解，Git与SVN的区别`主要`有如下几点：

​		第一点，体现在对数据的管理上，Git在对待数据上像是一个快照流，每次你提交更新，或者在Git项目中保存项目项目状态时，Git主要是对当前的全部文件制作一个快照，并保存这个快照的索引，以便于你可以随时恢复到这个状态。为了高效处理，如果Git管理的文件没有发生改变，那么Git将不会重新存储该文件，而是保留一个链接指向之前存储的文件。而像SVN,CVS,Perforce等则是以文件变更列表信息存储信息，它们保存的信息看作是一组基本文件和每个文件随时间累积的差异。

​		第二点，Git几乎所有操作都在本地上进行，Git拥有一个本地仓库，这个本地仓库不仅包含我们所管理的文件信息，还维护着对Git操作的历史记录，设想一下哪天你处于一个脱网的环境下，你仍然可以自由顺畅的使用Git，等到有网的时，再将本地的操作同步到远程服务器，可见多方便。而SVN的操作则需要依赖远程服务器，在脱网的环境下，你就没办法进行代码的提交，更新等等。在这里补充一下，Git也是有远程仓库的，只不过Git的远程仓库，更多的为了方便不同开发人员进行协同工作的，这也就是为什么Git的远程仓库哪天宕机了，我们可以随便拿一台电脑上的本地Git仓库进行数据回复，这个恢复操作，不仅是指源文件，更重要的是历史纪录！！！理解这一点，也更好的理解了集中式与分布式的一些区别。

​	以上，皆为个人思考，如有不对，欢迎指正☞☞QQ：`913709071`